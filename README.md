# ü§ñ Telegram Voice Assistant —Å Google Gemini –∏ Whisper

–≠—Ç–æ Telegram-–±–æ—Ç –Ω–∞ Python, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–Ω–∏–º–∞–µ—Ç **–≥–æ–ª–æ—Å–æ–≤—ã–µ** –∏ **—Ç–µ–∫—Å—Ç–æ–≤—ã–µ** —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –Ω–∏—Ö —Å –ø–æ–º–æ—â—å—é **Google Gemini AI**.  
–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–Ω–µ–π—Ä–æ—Å–µ—Ç–µ–≤–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏** (Whisper) –∏ **–º–æ–¥–µ–ª—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞** –æ—Ç Google (Gemini 2.0 Flash).

---

## üß† –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç –±–æ—Ç?

- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç **—Ç–µ–∫—Å—Ç–æ–≤—ã–µ** –∏ **–≥–æ–ª–æ—Å–æ–≤—ã–µ** —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- –ï—Å–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –≥–æ–ª–æ—Å–æ–≤–æ–µ:
  - –°–∫–∞—á–∏–≤–∞–µ—Ç —Ñ–∞–π–ª `.ogg` –æ—Ç Telegram.
  - –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –µ–≥–æ –≤ `.wav` —Å –ø–æ–º–æ—â—å—é `ffmpeg` (16000 –ì—Ü, –º–æ–Ω–æ).
  - –†–∞—Å–ø–æ–∑–Ω–∞—ë—Ç —Ä–µ—á—å —Å –ø–æ–º–æ—â—å—é –º–æ–¥–µ–ª–∏ **Whisper** (OpenAI).
- –ü–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç (–∏–ª–∏ –∏—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è) –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ **Google Gemini 2.0 Flash**.
- –ë–æ—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

---

## üß± –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

project/
‚îú‚îÄ‚îÄ main.py # –ó–∞–ø—É—Å–∫ Telegram-–±–æ—Ç–∞
‚îú‚îÄ‚îÄ config.py # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã (—Ç–æ–∫–µ–Ω—ã –∏ –∫–ª—é—á–∏ API)
‚îÇ
‚îú‚îÄ‚îÄ handlers/
‚îÇ ‚îî‚îÄ‚îÄ main_handler.py # –õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥, —Ç–µ–∫—Å—Ç–∞ –∏ –≥–æ–ª–æ—Å–æ–≤—ã—Ö
‚îÇ
‚îú‚îÄ‚îÄ services/
‚îÇ ‚îú‚îÄ‚îÄ gemini_client.py # –ö–ª–∞—Å—Å-–∫–ª–∏–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Google Gemini API
‚îÇ ‚îú‚îÄ‚îÄ speech_to_text.py # –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∞—É–¥–∏–æ —á–µ—Ä–µ–∑ Whisper
‚îÇ ‚îî‚îÄ‚îÄ user_history.py # (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø–µ—Ä–µ–ø–∏—Å–∫–∏
‚îÇ
‚îú‚îÄ‚îÄ downloads/ # –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∞—É–¥–∏–æ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îî‚îÄ‚îÄ requirements.txt # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞



---

## üõ† –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è       | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------------------|------------|
| [Python 3.10+](https://www.python.org/) | –û—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ –ø—Ä–æ–µ–∫—Ç–∞ |
| [aiogram](https://docs.aiogram.dev/en/latest/) | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π Telegram Bot API |
| [Google Generative AI SDK](https://ai.google.dev/) | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Gemini (–º–æ–¥–µ–ª—å `gemini-2.0-flash-exp`) |
| [Whisper](https://github.com/openai/whisper) | –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ –∏–∑ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π |
| [ffmpeg](https://ffmpeg.org/) | –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∞—É–¥–∏–æ –∏–∑ `.ogg` –≤ `.wav` |
| asyncio | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á (—Å–∫–∞—á–∏–≤–∞–Ω–∏–µ, –æ–±—Ä–∞–±–æ—Ç–∫–∞, –æ—Ç–≤–µ—Ç—ã) |
| os / subprocess | –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏ –∏ –≤—ã–∑–æ–≤ –≤–Ω–µ—à–Ω–∏—Ö –∫–æ–º–∞–Ω–¥ (`ffmpeg`) |

---

## üí° –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ (—Ç–µ–∫—Å—Ç –∏–ª–∏ –≥–æ–ª–æ—Å).
2. –ë–æ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ:
   - –ï—Å–ª–∏ —ç—Ç–æ —Ç–µ–∫—Å—Ç ‚Äî —Å—Ä–∞–∑—É –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ Gemini.
   - –ï—Å–ª–∏ —ç—Ç–æ –≥–æ–ª–æ—Å:
     - –°–∫–∞—á–∏–≤–∞–µ—Ç—Å—è `.ogg` —Ñ–∞–π–ª.
     - –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤ `.wav` —á–µ—Ä–µ–∑ `ffmpeg`.
     - –†–∞—Å–ø–æ–∑–Ω–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ `whisper.load_model("small")`.
     - –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ Gemini.
3. –û—Ç–≤–µ—Ç –æ—Ç Gemini –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

---
---

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞

–£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å –ø–æ–º–æ—â—å—é `pip`:
–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:
aiogram==3.4.1
google-generativeai==0.5.2
openai-whisper
ffmpeg-python

```bash
pip install -r requirements.txt



## üßë‚Äçüíª –ê–≤—Ç–æ—Ä

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ —Å—Ç—É–¥–µ–Ω—Ç–æ–º-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–º **–î–µ–Ω–∏—Å–æ–º**.

üì¨ Telegram: [@denis20152018](https://t.me/denis20152018)  
üíª GitHub: [github.com/your_username](https://github.com/denis201520182022)
üìß Email: den14kotlyarov@yandex.ru

–° —Ä–∞–¥–æ—Å—Ç—å—é –æ—Ç–≤–µ—á—É –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ –ø—Ä–æ–µ–∫—Ç—É!
